<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mission 4 challenge2</title>
<style>
    .button_confirm, .button_next{
	left: 1px;
	top: -30px;
}
.button_reset {
	margin-top:-20px
}
li{
	color:#000;
}
.box_drop {
	width:459px;
	height:100px;
	
}
</style>
<link rel="stylesheet" type="text/css" href='style.css'/>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
<script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
<script src="../shell.js"></script> 
<script>
var reponse = new Array();
var nbItem_drop = 0;
var id_item_drag = 0;
$( init );

function init() {
    id_item_drag = 0;
$(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7").draggable({ revert: true, containment: "#exercice", scroll: false });
$(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable( "option", "disabled", false );
$("#box_drop1,#box_drop2,#box_drop3,#box_drop4,#box_drop5,#box_drop6,#box_drop7").droppable({ hoverClass: 'hovered', drop: handleDrop})
$("#box_drop1,#box_drop2,#box_drop3,#box_drop4,#box_drop5,#box_drop6,#box_drop7").droppable( "option", "disabled", false );
function handleDrop( event, ui ) {
	nbItem_drop = 0;
	nbItem_drop++;
	id_item_drag = ui.draggable.attr("id");
	if(nbItem_drop>=1){
		$("#bt_reset").show();
	}
	ui.draggable.draggable( 'disable' );
 	$(this).droppable( 'disable' );
    ui.draggable.draggable( 'option', 'revert', false );
  }
}

</script>
  
</head>

<body>

<div class="content" >

<div id="consigne">
<div id="titre_epreuve">Challenge 2</div>

<div id="consigne_epreuve"><div class="apostrophe_debut"></div>
There are several business tools available to companies to take the environmental responsibility into account.
<br>Which business tool can be associated to the following definition?<br>Drag and drop your choice in the list below on the left side. Use the RESET button to correct your answer. At the end, double-click on the RESET button if you want to re-initialize the exercise.
<div class="apostrophe_fin"></div>
</div>

</div><!--fin div consigne!-->
<br /><br /><br />
<div id="exercice">
<a class="button_reset" title="" id="bt_reset" style="display:none;">Reset</a>
<a class="button_reset" title="" id="bt_resetALL" href="mission4_challenge2.html" style="display:none;">Reset</a>

<div class="button_confirm" id="bt_validerQ1"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ2" style="display:none;"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ3" style="display:none;"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ4" style="display:none;"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ5" style="display:none;"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ6" style="display:none;"><a class="zone_clickBt"></a></div>
<div class="button_confirm" id="bt_validerQ7" style="display:none;"><a class="zone_clickBt"></a></div>

<div class="button_next" id="bt_nextQ1" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ2" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ3" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ4" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ5" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ6" style="display:none"><a class="zone_clickBt"></a></div>
<div class="button_next" id="bt_nextQ7" style="display:none"><a class="zone_clickBt" href="mission4_challenge3.html" ></a></div>
<bR>
<div class ="zoneItem_epreuveB_partie3">

     <table>
       <tr>
          <th width="291"  style=" width:350px">Business Tool</th>
          <th width="595" >Definition</th>
       </tr>
       <tr id="step1">
           <td id="box_drop1" class="box_drop" >
               </td>
           <td>            
<p style="font-size:15px; text-align:justify">
A shift away from traditional open, linear systems towards closed loops and inter-dependent relationships of the kind found in nature, this concept calls for organizations exchanging energy and material between one another, rather than operating as isolated units.</p>

		   </td>
       </tr>
       
        <tr id="step2" style="display:none">
           <td id="box_drop2"  class="box_drop"></td>
           <td>
          <p style="font-size:15px; text-align:justify">Techniques that are used to identify the environmental impact of a product throughout its life cycle such as life-cycle assessment as well as techniques that help designers reduce pollution and waste throughout the life-cycle.</p>

		   </td>
       </tr>
       
           <tr id="step3" style="display:none">
            <td id="box_drop3"  class="box_drop"></td>
           <td>
             <p style="font-size:15px; text-align:justify">Creating more goods and services while using fewer resources and creating less waste and pollution.
Achieved through the delivery of ' ...competitively priced goods and services that satisfy human needs and bring quality of life while progressively reducing environmental impacts of goods and resource intensity throughout the entire life-cycle to a level at least in line with the Earth's estimated carrying capacity' (WBCSD, 1992).
</p>

		   </td>
       </tr>
           <tr id="step4" style="display:none">
           <td id="box_drop4"  class="box_drop"></td>
           <td>
             
<p style="font-size:15px; text-align:justify">It can deliver increased productivity, a reduction in pollution, lower consumption of natural resources, and improved financial performance.</p>

		   </td>
       </tr>
          <tr id="step5" style="display:none">
           <td id="box_drop5"  class="box_drop"></td>
           <td>
<p style="font-size:15px; text-align:justify">From the waste treatment approach towards waste prevention: reduction, reuse, recycling and recovery.</p>

		   </td>
       </tr>
         <tr id="step6" style="display:none">
          <td id="box_drop6"  class="box_drop"></td>
           <td>
          <p style="font-size:15px; text-align:justify">Practical method for protecting human and environmental health. Defined by UNEP (1989) as "the continuous application of an integrated preventive environmental strategy applied to processes, products and services to increase eco-efficiency and reduce risks to humans and the environment".</p>
  
		   </td>
       </tr>
         <tr id="step7" style="display:none">
          <td id="box_drop7"  class="box_drop"></td>
           <td style="height:80px">          
<p style="font-size:15px; text-align:justify">Select products and services that minimize environmental impacts</p>
		   </td>
       </tr>
         
    </table>
   
<div id="zoneSortable" class="zoneSortable1" >

    <ul id="sortableEB1" class="connectedSortable" >
      <li id="5" draggable="true" class="drag5"><span></span>4Rs</li>
      <li id="2" draggable="true" class="drag2" style="width:400px"><span></span>Design For Environment (DFE) also called Eco-design</li>
       <li id="6" draggable="true" class="drag6"><span></span>Cleaner production</li>
    </ul>
    
  <ul id="sortableEB1" class="connectedSortable"> 
 		<li id="3" draggable="true" class="drag3"><span></span>Eco-efficiency</li>
        <li id="1" draggable="true" class="drag1" ><span></span>Industrial ecology</li>
      	<li id="4" draggable="true" class="drag4"><span></span>Energy-efficiency</li>
        <li id="7" draggable="true" class="drag7"><span></span>Green procurement</li>
    </ul>
    
</div>

</div><!--Fin div zoneItem-->
</div><!--Fin div exercice-->

 <footer>
 <div class="footer_epreuve">
  <p><img src="images/bt_newlandia.png" alt="" style="margin-top:-30px"/># <span id="nomCluster"></span></p></div>
  </div>
 </footer>
</div>

<script>
    var myCluster = shell.getCluster();
    document.getElementById("nomCluster").innerHTML = myCluster.Name;

    var bonne_reponse = new Array(1,2,3,4,5,6,7);
	var reponse = new Array();
	
	var answerOk = true


	var score = 0;
	var scoreMax = 7;
	var jauge_A = 0;
	var jauge_B = 0;
	var jauge_C = 0;
	var jauge_D = 0;
	var jauge_F = 0;

	$(document).ready(function () {
		//Q1
		$("#bt_reset").click(function() {

			$( init );
			 $(".drag1").animate({"top": "0","left": "0"}, "slow");
			 $(".drag2").animate({"top": "0","left": "0"}, "slow");
			 $(".drag3").animate({"top": "0","left": "0"}, "slow");
			 $(".drag4").animate({"top": "0","left": "0"}, "slow");
			 $(".drag5").animate({"top": "0","left": "0"}, "slow");
			 $(".drag6").animate({"top": "0","left": "0"}, "slow");
			 $(".drag7").animate({"top": "0","left": "0"}, "slow");
			 $("#bt_reset").hide();
		});
$("#bt_validerQ1").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ1").hide();
				$("#bt_nextQ1").show();
				reponse.push(id_item_drag);
});
$("#bt_nextQ1").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
    $("#" + id_item_drag).hide();
    id_item_drag = 0;
				$("#step1").hide();
				$("#bt_nextQ1").hide();
				$("#step2").show();
				$("#bt_validerQ2").show();
			});	
		//Q2
$("#bt_validerQ2").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ2").hide();
				$("#bt_nextQ2").show();
				reponse.push(id_item_drag);
			});
			$("#bt_nextQ2").click(function() {
			    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
			    $("#" + id_item_drag).hide();
			    id_item_drag = 0;
				$("#step2").hide();
				$("#bt_nextQ2").hide();
				$("#step3").show();
				$("#bt_validerQ3").show();
			});		
			
			//Q3
$("#bt_validerQ3").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ3").hide();
				$("#bt_nextQ3").show();
				reponse.push(id_item_drag);			
			});
			$("#bt_nextQ3").click(function() {
			    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
			    $("#" + id_item_drag).hide();
			    id_item_drag = 0;
				$("#step3").hide();
				$("#bt_nextQ3").hide();
				$("#step4").show();
				$("#bt_validerQ4").show();
			});	
					//Q4
$("#bt_validerQ4").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ4").hide();
				$("#bt_nextQ4").show();
				reponse.push(id_item_drag);				
			});
$("#bt_nextQ4").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
    $("#" + id_item_drag).hide();
    id_item_drag = 0;
				$("#step4").hide();
				$("#bt_nextQ4").hide();
				$("#step5").show();
				$("#bt_validerQ5").show();
			});	
		//Q5
$("#bt_validerQ5").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ5").hide();
				$("#bt_nextQ5").show();
				reponse.push(id_item_drag);			
			});
			$("#bt_nextQ5").click(function() {
			    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
			    $("#" + id_item_drag).hide();
			    id_item_drag = 0;
				$("#step5").hide();
				$("#bt_nextQ5").hide();
				$("#step6").show();
				$("#bt_validerQ6").show();
			});	
			
			//Q6
$("#bt_validerQ6").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_validerQ6").hide();
				$("#bt_nextQ6").show();
				reponse.push(id_item_drag);			
			});
			$("#bt_nextQ6").click(function() {
			    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", false);
			    $("#" + id_item_drag).hide();
			    id_item_drag = 0;
				$("#step6").hide();
				$("#bt_nextQ6").hide();
				$("#step7").show();
				$("#bt_validerQ7").show();
			});	
			
						//Q7
$("#bt_validerQ7").click(function () {
    $(".drag1,.drag2,.drag3,.drag4,.drag5,.drag6,.drag7,.drag8").draggable("option", "disabled", true);
				$("#bt_reset").hide();
				$("#bt_resetALL").show();
				$("#bt_validerQ7").hide();
				$("#bt_nextQ7").show();
				reponse.push(id_item_drag);
				id_item_drag = 0;
				for (i = 0; i < bonne_reponse.length; i++) {
				    if (reponse[i] != bonne_reponse[i]) {
				        answerOk = false;
                        
				    } else {
				        score++;
				    }
				}
			if( answerOk == true){
			    jauge_A += 1;
			    jauge_C += 1;
				jauge_D += 1.5;
			}else{
				jauge_A -= 1;
				jauge_D -= 2;
			}
});
$("#bt_resetALL").click(function () {
     score = 0;
     jauge_A = 0;
     jauge_B = 0;
     jauge_C = 0;
     jauge_D = 0;
     jauge_F = 0;
});
$("#bt_nextQ7").click(function () {

    shell.scoreEpreuve2 += score;

    shell.scoreEpreuve2 = (shell.scoreEpreuve2 / scoreMax) * 20;
    shell.scoreEpreuve2 = Math.round(shell.scoreEpreuve2);

    shell.globalScore = (shell.scoreEpreuve1 + shell.scoreEpreuve2) / 2;
    shell.globalScore = Math.round(shell.globalScore);

    shell.jauge1 += jauge_A;
    shell.jauge2 += jauge_B;
    shell.jauge3 += jauge_C;
    shell.jauge4 += jauge_D;
    shell.jauge5 += jauge_F;

    shell.doTracking();


});

	});
	
</script>
</body>
</html>
