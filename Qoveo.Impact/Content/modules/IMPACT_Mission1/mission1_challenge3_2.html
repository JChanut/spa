<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mission 1 Challenge 3.2</title>
<link rel="stylesheet" type="text/css" href='style.css'/>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
<script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
<script src="../shell.js"></script> 
    <script>
  $(function() {
    $( "#sortableItem, #sortableItem1, #sortableItem2, #sortableItem3, #sortableItem4, #sortableItem5, #sortableItem6, #sortableItem7, #sortableItem8, #sortableItem9, #sortableItem10" ).sortable({
      connectWith: ".connectedSortable"
    }).disableSelection();
  });
  </script>

</head>

<body>

<div class="content">

<div id="consigne">
<div id="titre_epreuve">Challenge 3.2</div>

<div id="consigne_epreuve"><div class="apostrophe_debut"></div>
What should be done concerning the following items in order to fight <br>corruption efficiently ?<br>
Drag and drop each action from the black list below in front of the appropriate white definition.<div class="apostrophe_fin"></div>
</div>

</div><!--fin div consigne!-->
<div id="exercice">

<div class="button_confirm" id="bt_confrim">
	<a class="zone_clickBt"></a>
</div>
<div class="button_next" id="bt_next" style="display:none">
	<a  class="zone_clickBt" href="mission1_challenge4.html" ></a>
</div>
<ul id="sortableAcion">
    <li><span></span>Communication</li>
    <li><span></span>Accessibility</li>
    <li><span></span>Cultural appropriateness</li>
    <li><span></span>Openness</li>
    <li><span></span>Screening</li>
    <li><span></span>Collect data</li>
    <li><span></span>Remedial action & feedback</li>
    <li><span></span>Management visibility</li>
    <li><span></span>Employee protection</li>
    <li><span></span>External communications</li>
</ul>
<ul id="sortableItem">
   <li id="4" ><span></span>Make the reporting system available to suppliers and customers</li>
   <li id="6" ><span></span>Monitor reports, track them over time and identify weaknesses</li>
   <li id="2"><span></span>Make the programme available throughout the organization</li>
   <li id="10" ><span></span>Report to stakeholders on actions taken and results achieved</li>
   <li id="1"><span></span>Make the programme known to all employees</li>
   <li id="8" ><span></span>Report to the audit committee, or similar functions</li>
   <li id="5" ><span></span>Provide safeguards against frivolous or malicious reports</li>
   <li id="9" ><span></span>Protect reporting employees (including "whistle-blowers")</li>
   <li id="3" ><span></span>Adapt the programme to suit local cultures</li>
   <li id="7" ><span></span>Take action and provide feedback to those who report</li>
</ul>

</div>
 <footer>
 <div class="footer_epreuve">
  <p><img src="images/bt_newlandia.png" alt="" /># <span id="nomCluster"></span></p></div>
 </footer>
</div>
<script>
    var myCluster = shell.getCluster();
    document.getElementById("nomCluster").innerHTML = myCluster.Name;
    var bonne_reponse = new Array(1,2,3,4,5,6,7,8,9,10);
    var score = 0;
    var scoreMax = 26;
    var jauge_A = 0;
    var jauge_B = 0;
    var jauge_C = 0;
    var jauge_D = 0;
    var jauge_F = 0;

    $(document).ready(function () {

        $("#bt_confrim").click(function () {

            reponse = $("#sortableItem").sortable('toArray', { attribute: 'id' });

            //
            for (var i = 0; i <= reponse.length; i++) {
                if (reponse[i] == bonne_reponse[i]) {
                    score++;
                }
            }


            if (score >= 8) {
                jauge_A = 0.5;
                jauge_C = 0.5;
            } else {
                jauge_A -= 1.5;
                jauge_C -= 2;
                jauge_F -= 2;
            }

            shell.scoreEpreuve3 += score;
            shell.scoreEpreuve3 = (shell.scoreEpreuve3 / scoreMax) * 20;
            shell.scoreEpreuve3 = Math.round(shell.scoreEpreuve3);

            shell.globalScore = (shell.scoreEpreuve1 + shell.scoreEpreuve2 + shell.scoreEpreuve3) / 3;
            shell.globalScore = Math.round(shell.globalScore);

            shell.jauge1 += jauge_A;
            shell.jauge2 += jauge_B;
            shell.jauge3 += jauge_C;
            shell.jauge4 += jauge_D;
            shell.jauge5 += jauge_F;

           
            shell.doTracking();

            $("#bt_confrim").hide();
            $("#bt_next").show();
        });

    });
</script>
</body>
</html>